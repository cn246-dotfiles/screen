# Set terminal
#term rxvt-unicode-256color
#term st-256color
term screen-256color

# Get IP Address
backtick 101 600 600 hostname -I
# Get volume level
backtick 102 1 1 bash /usr/share/i3blocks/volume
# Get battery status
#backtick 103 1 1 bash /path/to/battery/script

# Disable startup message
startup_message off

# Set status bar
hardstatus off
hardstatus alwayslastline
hardstatus string '%{= dG}[ %{d}%H %{b}| %{G}%101`%{d}%{g}][%= %{= dw}%?%-Lw%?%{r}(%{W}%n*%f%t%?(%u)%?%{r})%{w}%?%+Lw%?%?%= %{g}][%{d} Vol: %102` %{b}| %{d}%103`%{d}%D %M-%d %{d}%{b}| %{W}%C%a %{g}]'

# Clear screen after exiting vim
altscreen on

# Watch for mouse clicks. Will focus on split where mouse was clicked.
defmousetrack on
mousetrack on

# Set bar color for splits
rendition so wk

# Caption text. Highlight current window's status on split.
caption string '%?%F%{.K.}%?%3n %t%? [%h]%?'

# Open default programs
screen -t "IRC"     0 ssh irc
screen -t "BASH"    1 bash
screen -t "BASH"    2 bash

# Shell window group
screen -t "NEWS"    7 newsboat
screen -t "DEV"     8 //group
select 8
screen -t "GIT"     10 bash
screen -t "VIM"     11 bash
screen -t "DJANGO"  12 bash
screen -t "RUNNER"  13 bash
screen -t "SQL"     14 bash
screen -t "PYTHON"  15 python3
select 0

# Monitoring window group
screen -t "MON"     9 //group
select 9
screen -t "HTOP"    20 htop
screen -t "DMESG"   21 bash

# Default to window 1
select 1

# Layouts
layout new main
select 1
layout autosave on

layout new django
select 10
split -v
split -v
resize -10%
focus right
select 11
resize +5%
focus right
select 12
split
focus down
select 13
focus left

layout new vsplit
select 14
split
focus down
select 15
focus up

layout new hsplit
select 1
split -v
focus right
resize -10%
select 2
focus left

layout attach main
layout select main

# Cycle through windows
# Ctrl-a [h,j,k,l,t,b]
bind h focus left
bind j focus next
bind k focus prev
bind l focus right

# Cycle through layouts
# Ctrl-j j
bind -c layoutN j layout next
bindkey "^J" command -c layoutN
# Ctrl-k k
bind -c layoutP k layout prev
bindkey "^K" command -c layoutP
